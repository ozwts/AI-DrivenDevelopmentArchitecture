# 分散協調開発原則

## 最高原則

複数のAIによる開発は**分散協調（Distributed Collaboration）**により実現されなければならない。

- **独立性の確保**: コード・タスク・開発環境を適切に分割し、複数のAIが並行作業してもコンフリクトを最小化
- **状況の可視化**: 現在の作業状況を明示し、人間とAIが全体の進捗・状態を把握可能
- **丁寧な引き継ぎ**: 後工程に向けた明確な指示・コンテキストを残し、スムーズな協調を実現

## 理念

### 分散協調開発の本質

分散協調開発とは、**複数のAIの並行作業**と**人間による観測**を両立させ、開発をスケールさせることである。

### 得られるベネフィット

複数のAIが並行作業し、開発速度を線形にスケール。作業状況を可視化し、人間が全体を俯瞰して判断。引き継ぎ情報により一貫性のある実装を実現。

## 制度：三権分立による実現

### Policy（立法）

分散協調開発のルールを定義する。

#### 独立性の確保

**コード分割**: レイヤー・モジュール・機能単位で分割し、異なるファイルで作業。長すぎるコードは適切な粒度に分割

**環境の独立**: 各AIが専用の開発環境を持ち、データベース・ポート・ファイルシステム等の競合を回避

**インターフェース駆動**: 共有インターフェースを先に定義し、実装を並行して進める

#### 可視化と引き継ぎ

**作業状況**: 進行中・完了・残タスクを明示し、人間とAIが全体を把握

**引き継ぎ情報**: 実装の意図・依存関係・次のステップを記録し、後工程をスムーズに

### Procedure（行政）

分散協調開発を実装し、**開発速度をスケール**させつつ、**人間の制御性を維持**する。

#### 環境とタスクの準備

各AIに専用の開発環境を割り当て。人間がタスクを適切な粒度に分割し、依存関係を最小化して各AIに割り当て。

#### 並行作業と記録

各AIが独立したブランチで作業し、異なるファイル・モジュールで実装。Todoリスト・コミットメッセージ・引き継ぎ情報を記録。

### Review（司法）

分散協調開発の適切性を審査する。

#### 審査項目

タスク・環境・ファイルが適切に分割され、並行作業可能か。作業状況が明示され、引き継ぎ情報が記録されているか。

#### 実施方法

**自動レビュー**: コンフリクト発生時に早期検知し、マージ前に解決

**手動レビュー**: PRレビュー時に実装の意図・引き継ぎ情報を確認

## 原則の適用

### 独立性の実現

レイヤー・機能・ファイル単位で分割し、異なるファイルで作業。各AIが専用の開発環境を持ち、環境の競合を回避。

### 可視化と引き継ぎの実現

Todoリストで進捗を明示、コミットメッセージで意図を記録。複雑なロジックに「なぜ」のコメント、後工程の作業をTODOコメントで明示。

### ブランチ戦略

各タスクを独立したブランチで実施、featureブランチ間のコンフリクト解消とマージはAIが自律的に実施。ただし、mainブランチへのマージは物理的に禁止。
