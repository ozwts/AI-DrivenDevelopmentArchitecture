# 用語集（Glossary）ポリシー

## 核心原則

用語集は**命名の唯一の源泉**である。定義・シナリオ・コードで使用するすべての用語は、用語集に存在しなければならない。

## 責務

### 実施すること

1. **語彙の一元管理**: ビジネス全体で共有される用語を定義する
2. **英語名の標準化**: クラス名・ファイル名の源泉となる英語名を定義する
3. **定義の明確化**: 曖昧さを排除した定義を記述する

### 実施しないこと

1. **属性の詳細** → 定義ファイル（`30-definition.md`参照）で記述
2. **制約の詳細** → 定義ファイルで記述
3. **振る舞いの詳細** → シナリオファイル（`40-scenario.md`参照）で記述

## 配置

```
/contracts
  /business
    glossary.md
```

## 記述形式

```markdown
# 用語集

| 用語 | 英語名 | 定義 |
|------|--------|------|
| {用語} | {English} | {定義} |
```

## レビュー観点

### 用語の網羅性

定義・シナリオで使用されている用語がすべて用語集に存在するか確認する。

| 確認対象 | 確認方法 |
|---------|---------|
| 定義の概念名（見出し） | `# {概念名}` が用語集に存在するか |
| 定義の属性 | 属性で参照する概念が用語集に存在するか |
| シナリオの「誰が」 | アクターが用語集に存在するか |
| シナリオの「何を」 | 操作対象が用語集に存在するか |

### 英語名の一致

用語集の英語名が、コードの命名と一致しているか確認する。

| 用語集 | コード |
|--------|--------|
| Todo | `todo.entity.ts`, `class Todo` |
| Project Member | `project-member.entity.ts`, `class ProjectMember` |
| Todo Status | `todo-status.vo.ts`, `class TodoStatus` |

### 定義の明確性

| 確認項目 | 判断基準 |
|---------|---------|
| 一意性 | 同じ概念に複数の名前がないか |
| 曖昧性 | 「〜など」「〜等」を使っていないか |
| 循環参照 | 定義が他の未定義用語に依存していないか |

## Do / Don't

### Do: 新しい概念を追加したら用語集を更新する

```markdown
// 1. まず用語集に追加
| プロジェクトメンバー | Project Member | プロジェクトに参加しているユーザー |

// 2. その後、定義ファイルで詳細を記述
# プロジェクトメンバー
## 定義
プロジェクトに参加しているユーザー。プロジェクト内のTODOを共同で管理できる。
```

### Do: 属性で参照する概念も用語集に含める

```markdown
// 用語集に「プロジェクトロール」を追加
| プロジェクトロール | Project Role | プロジェクトにおけるユーザーの役割。オーナーまたはメンバー |

// 定義で属性として使用
## 属性
- プロジェクトロール：オーナーまたはメンバー
```

### Don't: 用語集にない概念を定義・シナリオで使用する

```markdown
// ❌ Bad: 用語集に「参加者」がない状態で使用
## 属性
- 参加者：プロジェクトに参加しているユーザー

// ✅ Good: 用語集の「プロジェクトメンバー」を使用
## 属性
- プロジェクトメンバー：プロジェクトに参加しているユーザー
```

### Don't: 英語名をコードと異なる形で定義する

```markdown
// ❌ Bad: 英語名が不統一
| メンバー | Member | ... |
// コード: class ProjectMember（不一致）

// ✅ Good: 英語名が一致
| プロジェクトメンバー | Project Member | ... |
// コード: class ProjectMember（一致）
```

## 原則

| 原則 | 説明 |
|------|------|
| 一意性 | 同じ概念に複数の名前を与えない |
| 明確性 | 曖昧な定義を避ける |
| ビジネス視点 | 技術的な実装詳細は書かない |
| 先行登録 | 定義・シナリオより先に用語集に登録する |
