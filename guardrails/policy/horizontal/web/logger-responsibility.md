# Logger使用の責務（セマンティックレビュー）

> **Note:** ログ出力の内容・品質は静的解析では検証困難なため、セマンティックレビューで確認します。

## レビュー観点

### 1. 機密情報の出力禁止

ログに機密情報が含まれていないか？

**確認項目:**
- [ ] パスワード、トークン、APIキーが出力されていないか
- [ ] 個人情報が不必要に出力されていないか

**Good:**
```typescript
logger.info("ログイン成功", { userId: user.id });
```

**Bad:**
```typescript
logger.info("ログイン", { password: input.password }); // ❌
```

---

### 2. 構造化ログの使用

文字列連結ではなく、構造化データを使用しているか？

**Good:**
```typescript
logger.info("フォーム送信", { formId, values: { title } });
```

**Bad:**
```typescript
logger.info(`フォーム ${formId} を送信しました`); // ❌
```

---

### 3. 日本語でログメッセージ

ログメッセージが日本語で記述されているか？

**Good:**
```typescript
logger.info("プロジェクト一覧取得完了", { count });
```

**Bad:**
```typescript
logger.info("Projects fetched", { count }); // ❌
```

---

### 4. 適切なログレベルの使用

| レベル | 用途 | 例 |
|--------|------|-----|
| ERROR | 開発者対応が必要なシステム異常 | ネットワーク障害、500エラー |
| WARN | ユーザー操作起因の想定内エラー | バリデーション失敗、認証失敗 |
| INFO | 正常系の重要イベント | フォーム送信、API成功 |
| DEBUG | 開発時のデバッグ情報 | state変更、レンダリング |

---

### 5. レイヤー別責務の遵守

| レイヤー | ログ出力 | 内容 |
|---------|---------|------|
| Routes | ○ | ユーザー操作、ページ遷移 |
| Hooks (features) | ○ | ビジネスロジックの実行 |
| API Client (lib) | ○ | 通信の開始・成功・失敗 |
| Hooks (lib) | ○ | エラー発生時のみ |
| UI Components (lib) | × | **ログ出力しない** |
| Utils (lib) | × | **ログ出力しない** |

> **Note:** UIコンポーネント層のログ出力禁止は `no-ui-logging.ts` で静的解析されます。

---

### 6. 十分なログ出力

重要な処理にログが出力されているか？

**確認項目:**
- [ ] ユーザー操作（フォーム送信、ボタンクリック）でINFOログを出力しているか
- [ ] API呼び出しの開始・成功・失敗でログを出力しているか
- [ ] エラー発生時に適切なレベルでログを出力しているか

---

## 関連する静的解析ポリシー

| ファイル | 検証内容 |
|---------|---------|
| `no-console-log.ts` | console.logの直接使用禁止 |
| `no-ui-logging.ts` | UIコンポーネント層でのログ出力禁止 |
